parameters:
  gitlab_git_uri:
    type: "string"
    default: ""
  gitlab_ssh_fingerprint:
    type: "string"
    default: ""
commands:
  git-checkout:
    steps:
      - add_ssh_keys:
          fingerprints:
            - "<< pipeline.parameters.gitlab_ssh_fingerprint >>"
      - run: "mkdir -p ~/.ssh\nssh-keyscan gitlab.com >> ~/.ssh/known_hosts\ngit clone\
        \ --depth=1 << pipeline.parameters.gitlab_git_uri >> project"
